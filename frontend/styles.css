:root{--bg:#eef1f6;--bg2:#e9eef8;--card:#fff;--card2:rgba(255,255,255,.72);--text:#101828;--muted:#667085;--line:rgba(230,232,238,.18);--blue:#3b82f6;--blue2:#1d4ed8;--shadow:0 10px 30px rgba(16,24,40,.12);--radius:14px;--drawer:#1b2a57;--drawer2:#14224a;--surface:rgba(238,241,246,.75)}
:root[data-theme="dark"]{--bg:#0b0f16;--bg2:#0b1220;--card:#141a24;--card2:rgba(20,26,36,.72);--text:#e5e7eb;--muted:#9ca3af;--line:rgba(255,255,255,.10);--blue2:#60a5fa;--shadow:0 14px 40px rgba(0,0,0,.35);--drawer:#0f1625;--drawer2:#0b1020;--surface:rgba(16,22,32,.75)}
*{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:radial-gradient(1200px 600px at 50% -10%, rgba(242,245,255,.8) 0, var(--bg) 35%, var(--bg2) 100%);color:var(--text)}
.topbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:14px 16px;background:var(--surface);backdrop-filter:blur(14px);border-bottom:1px solid var(--line)}
.icon-btn{width:44px;height:44px;border:0;border-radius:999px;background:var(--card2);box-shadow:0 6px 18px rgba(16,24,40,.08);font-size:22px;cursor:pointer;color:var(--text)}
.title{text-align:center;display:flex;flex-direction:column;gap:2px} .title-main{font-weight:900} .title-sub{font-size:13px;color:var(--muted);font-weight:750;min-height:16px}
.container{max-width:520px;margin:0 auto;padding:14px 14px 200px} .view{display:none} .view.view-active{display:block}
.search{display:flex;align-items:center;gap:10px;padding:12px 14px;border-radius:999px;background:var(--card2);border:1px solid var(--line);margin-top:12px}
.search.big{padding:14px 16px} .search input{border:0;outline:none;background:transparent;width:100%;font-size:16px;color:var(--text)} .search-ico{color:var(--muted);font-weight:950}
.section-head{margin-top:16px;width:100%;border:0;background:transparent;color:var(--muted);font-weight:950;font-size:16px;cursor:pointer;text-align:left}
.tasks{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}
.task{position:relative;overflow:hidden;border-radius:var(--radius)}
.swipe-actions{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:0 10px}
.action-btn{border:0;cursor:pointer;font-weight:950;color:white;border-radius:12px;padding:12px 14px}
.action-btn.complete{background:rgba(34,197,94,.95)} .action-btn.delete{background:rgba(239,68,68,.95)}
.task-card{display:flex;align-items:center;gap:12px;padding:14px 14px;background:var(--card);border:1px solid var(--line);box-shadow:0 6px 18px rgba(16,24,40,.06);border-radius:var(--radius);transform:translateX(0);transition:transform 160ms ease;touch-action:pan-y}
.task.dragging .task-card{opacity:.85}
.checkbox{width:22px;height:22px;border-radius:6px;border:2px solid rgba(102,112,133,.5);display:flex;align-items:center;justify-content:center;cursor:pointer;flex:0 0 auto}
.checkbox.checked{border-color:rgba(59,130,246,.85);background:rgba(59,130,246,.12)} .checkbox.checked::after{content:"âœ“";font-weight:950;color:var(--blue);font-size:16px}
.task-main{flex:1;min-width:0} .task-title{font-size:18px;font-weight:950;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;gap:8px;align-items:center}
.flag{font-size:14px;padding:4px 8px;border-radius:999px;background:rgba(239,68,68,.12);color:rgba(239,68,68,.95);font-weight:950}
.task-meta{margin-top:4px;font-size:12px;color:var(--muted);font-weight:800;display:flex;gap:8px;flex-wrap:wrap}
.chipTag{padding:2px 8px;border-radius:999px;background:rgba(59,130,246,.12);color:var(--blue2);font-weight:900}
.due{color:var(--blue2);font-weight:950;min-width:70px;text-align:right}
.task-actions{display:flex;gap:8px} .small-btn{border:0;background:rgba(238,241,246,.6);color:var(--text);border-radius:12px;padding:10px;cursor:pointer;font-weight:950} :root[data-theme="dark"] .small-btn{background:rgba(255,255,255,.06)}
.empty{margin-top:14px;padding:18px;text-align:center;color:var(--muted);font-weight:850}
.drawer-backdrop{position:fixed;inset:0;background:rgba(16,24,40,.35);z-index:30}
.drawer{position:fixed;top:0;left:0;height:100%;width:min(360px,86vw);background:linear-gradient(180deg,var(--drawer) 0%,var(--drawer2) 100%);color:white;z-index:31;padding:18px 16px;display:flex;flex-direction:column;justify-content:space-between}
.drawer-item{width:100%;display:flex;align-items:center;gap:12px;padding:12px;border-radius:14px;border:0;background:transparent;color:white;cursor:pointer;font-weight:950;text-align:left}
.drawer-item.active{background:rgba(255,255,255,.10)} .di-emoji{width:26px;text-align:center} .di-title{flex:1;font-size:16px} .di-count{opacity:.75;font-weight:950}
.drawer-section-title{opacity:.75;font-weight:950;font-size:12px;padding:0 6px;letter-spacing:.6px} .drawer-sep{height:1px;background:rgba(255,255,255,.12);margin:6px 0}
.drawer-add{flex:1;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.08);color:white;font-weight:950;padding:14px;border-radius:14px;cursor:pointer}
.user{display:flex;align-items:center;gap:12px} .avatar{width:48px;height:48px;border-radius:999px;background:rgba(255,255,255,.12);display:flex;align-items:center;justify-content:center;font-size:22px}
.drawer-icon{width:44px;height:44px;border-radius:999px;border:0;cursor:pointer;background:rgba(255,255,255,.10);color:white;font-size:18px}
.composer{position:fixed;left:50%;transform:translateX(-50%);bottom:86px;width:min(520px, calc(100% - 28px));background:var(--card2);backdrop-filter:blur(16px);border:1px solid var(--line);border-radius:999px;box-shadow:var(--shadow);display:flex;align-items:center;gap:10px;padding:10px 12px;z-index:13}
.comp-input{flex:1;border:0;outline:none;background:transparent;font-size:16px;font-weight:850;color:var(--text)} .comp-btn{width:44px;height:44px;border-radius:999px;border:0;cursor:pointer;background:rgba(238,241,246,.75);color:var(--text);font-size:18px} :root[data-theme="dark"] .comp-btn{background:rgba(255,255,255,.06)} .comp-btn.primary{background:rgba(59,130,246,.95);color:white}
.comp-date{position:absolute;opacity:0;pointer-events:none}
.bottom-nav{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;width:min(520px, calc(100% - 28px));background:var(--card2);backdrop-filter:blur(16px);border:1px solid var(--line);border-radius:999px;box-shadow:var(--shadow);display:flex;justify-content:space-around;padding:10px 12px;z-index:12}
.bn-item{width:54px;height:44px;border:0;background:transparent;border-radius:999px;cursor:pointer;font-size:22px;color:var(--text)} .bn-item.active{background:rgba(59,130,246,.16)}
.sheet-backdrop{position:fixed;inset:0;background:rgba(16,24,40,.32);z-index:20}
.sheet{position:fixed;left:0;right:0;bottom:0;z-index:21;background:var(--card);border-top-left-radius:22px;border-top-right-radius:22px;box-shadow:var(--shadow);padding:14px}
.sheet-title{max-width:520px;margin:0 auto 10px;font-weight:950;color:var(--text)}
.sheet-option{max-width:520px;margin:0 auto 10px;width:100%;border:1px solid var(--line);background:rgba(238,241,246,.55);color:var(--text);padding:14px;border-radius:16px;cursor:pointer;font-weight:950;text-align:left} :root[data-theme="dark"] .sheet-option{background:rgba(255,255,255,.05)}
.sheet-option.ghost{background:transparent}
.sheet-form{max-width:520px;margin:0 auto;display:flex;flex-direction:column;gap:12px}
.sheet-form input[type="text"], .sheet-form select{width:100%;padding:14px;border-radius:16px;border:1px solid var(--line);font-size:16px;outline:none;background:rgba(255,255,255,.04);color:var(--text)}
.sheet-emoji{width:90px !important;text-align:center;font-size:18px !important}
.sheet-row{display:flex;align-items:center;gap:10px} .sheet-label{color:var(--muted);font-weight:950;min-width:80px} .sheet-select{flex:1}
.sheet-actions{display:flex;justify-content:flex-end;gap:10px} .btn{padding:12px 14px;border-radius:14px;border:0;cursor:pointer;font-weight:950}
.btn.ghost{background:rgba(238,241,246,.55);color:var(--text)} :root[data-theme="dark"] .btn.ghost{background:rgba(255,255,255,.05)} .btn.primary{background:var(--blue);color:white}
.pick-list{max-width:520px;margin:0 auto}
@media (min-width: 1024px){
.layout{display:grid;grid-template-columns:360px 1fr;align-items:start}
.drawer{position:sticky;top:0;height:100vh;z-index:2;width:360px}
.drawer-backdrop{display:none !important}
.bottom-nav{display:none}
.container{max-width:980px;padding-bottom:160px}
.composer{left:calc(360px + (100% - 360px)/2);transform:translateX(-50%);bottom:24px;width:min(980px, calc(100% - 360px - 56px))}
}
